{"version":2,"kind":"Notebook","sha256":"c55ccf7be08bc1f14dca10b6e68e48939f3abbb016e234e6a456c4a020d94d33","slug":"notebooks.validation","location":"/notebooks/validation.ipynb","dependencies":[],"frontmatter":{"title":"Validating your data product","authors":[{"nameParsed":{"literal":"Genevive Clow","given":"Genevive","family":"Clow"},"name":"Genevive Clow","id":"contributors-validation-generated-uid-0"}],"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"open_access":true,"license":{"content":{"id":"Apache-2.0","url":"https://opensource.org/licenses/Apache-2.0","name":"Apache License 2.0","free":true,"osi":true}},"github":"https://github.com/projectpythia/landsatproduct-cookbook","copyright":"2025","affiliations":[{"id":"UAlbany","name":"University at Albany (SUNY)","department":"Atmospheric and Environmental Sciences","url":"https://www.albany.edu/daes"},{"id":"CISL","name":"NSF National Center for Atmospheric Research","department":"Computational and Information Systems Lab","url":"https://www.cisl.ucar.edu"},{"id":"Unidata","name":"NSF Unidata","url":"https://www.unidata.ucar.edu"},{"id":"Argonne","name":"Argonne National Laboratory","department":"Environmental Science Division","url":"https://www.anl.gov/evs"},{"id":"CarbonPlan","name":"CarbonPlan","url":"https://carbonplan.org"},{"id":"NVIDIA","name":"NVIDIA Corporation","url":"https://www.nvidia.com/"}],"edit_url":"https://github.com/projectpythia/landsatproduct-cookbook/blob/HEAD/notebooks/validation.ipynb","exports":[{"format":"ipynb","filename":"validation.ipynb","url":"/landsatproduct-cookbook/_preview/20/build/validation-c315299b1e3ebdbdff7fa3aa68060fa7.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"%pip install xarray==2024.05.0","key":"Rsw5PhJhhy"},{"type":"output","id":"NrVwG-gyt4b9lZGs3nXqy","data":[{"output_type":"stream","name":"stdout","text":"Collecting xarray==2024.05.0\r\n"},{"output_type":"stream","name":"stdout","text":"  Downloading xarray-2024.5.0-py3-none-any.whl.metadata (11 kB)\r\nRequirement already satisfied: numpy>=1.23 in /home/runner/micromamba/envs/landsat-product-cookbook-dev/lib/python3.13/site-packages (from xarray==2024.05.0) (2.2.6)\r\nRequirement already satisfied: packaging>=23.1 in /home/runner/micromamba/envs/landsat-product-cookbook-dev/lib/python3.13/site-packages (from xarray==2024.05.0) (25.0)\r\nRequirement already satisfied: pandas>=2.0 in /home/runner/micromamba/envs/landsat-product-cookbook-dev/lib/python3.13/site-packages (from xarray==2024.05.0) (2.3.1)\r\nRequirement already satisfied: python-dateutil>=2.8.2 in /home/runner/micromamba/envs/landsat-product-cookbook-dev/lib/python3.13/site-packages (from pandas>=2.0->xarray==2024.05.0) (2.9.0.post0)\r\nRequirement already satisfied: pytz>=2020.1 in /home/runner/micromamba/envs/landsat-product-cookbook-dev/lib/python3.13/site-packages (from pandas>=2.0->xarray==2024.05.0) (2025.2)\r\nRequirement already satisfied: tzdata>=2022.7 in /home/runner/micromamba/envs/landsat-product-cookbook-dev/lib/python3.13/site-packages (from pandas>=2.0->xarray==2024.05.0) (2025.2)\r\nRequirement already satisfied: six>=1.5 in /home/runner/micromamba/envs/landsat-product-cookbook-dev/lib/python3.13/site-packages (from python-dateutil>=2.8.2->pandas>=2.0->xarray==2024.05.0) (1.17.0)\r\nDownloading xarray-2024.5.0-py3-none-any.whl (1.2 MB)\r\n\u001b[?25l   \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m0.0/1.2 MB\u001b[0m \u001b[31m?\u001b[0m eta \u001b[36m-:--:--\u001b[0m"},{"output_type":"stream","name":"stdout","text":"\r\u001b[2K   \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m1.2/1.2 MB\u001b[0m \u001b[31m63.8 MB/s\u001b[0m  \u001b[33m0:00:00\u001b[0m\r\n\u001b[?25h"},{"output_type":"stream","name":"stdout","text":"Installing collected packages: xarray\r\n  Attempting uninstall: xarray\r\n    Found existing installation: xarray 2025.7.1\r\n"},{"output_type":"stream","name":"stdout","text":"    Uninstalling xarray-2025.7.1:\r\n      Successfully uninstalled xarray-2025.7.1\r\n"},{"output_type":"stream","name":"stdout","text":"\u001b[31mERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.\r\nvirtualizarr 1.2.0 requires xarray>=2024.10.0, but you have xarray 2024.5.0 which is incompatible.\r\nrioxarray 0.19.0 requires xarray>=2024.7.0, but you have xarray 2024.5.0 which is incompatible.\u001b[0m\u001b[31m\r\n\u001b[0mSuccessfully installed xarray-2024.5.0\r\n"},{"output_type":"stream","name":"stdout","text":"Note: you may need to restart the kernel to use updated packages.\n"}],"key":"ihBUmVwrQJ"}],"key":"i8XK5rOTeM"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Imports\n%pip install pykrige\n#%pip install xarray\n# %pip install xarray==2024.05.0\n\n%matplotlib widget\n\n%load_ext autoreload\n%autoreload 2\n\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom matplotlib.colors import Normalize\nfrom mpl_toolkits.mplot3d import Axes3D\nfrom skimage import exposure\nfrom skimage.io import imsave, imread\nfrom osgeo import ogr\nimport pystac_client\nfrom pyproj import Transformer\nfrom datetime import date, timedelta, datetime\nfrom dateutil.relativedelta import relativedelta\nimport geopandas as gpd\nimport pandas as pd\nimport geoviews as gv\nimport hvplot.pandas\nimport intake\nimport xarray as xr\nimport numpy as np\nfrom numpy.random import default_rng\nimport intake\nfrom pyproj import Proj, transform\nfrom osgeo import gdal\nfrom sklearn.neighbors import BallTree\nimport earthaccess\nimport gzip\n\n# for progress bar\nfrom ipywidgets import IntProgress\nfrom IPython.display import display\nfrom ipywidgets import interact, Dropdown\nimport time\nfrom tqdm.notebook import trange, tqdm\n\nimport boto3\nimport rasterio as rio\nfrom rasterio.features import rasterize\nfrom rasterio.session import AWSSession\nimport dask\nimport os\nimport rioxarray\nfrom rasterio.enums import Resampling\nfrom rasterio.warp import reproject\nfrom rasterio.warp import Resampling as resample\nimport cartopy.crs as ccrs\nimport cartopy\nfrom pykrige.ok import OrdinaryKriging\nfrom sklearn.linear_model import LinearRegression, RANSACRegressor\nfrom scipy.odr import Model, RealData, ODR\nimport scipy.odr as odr\nimport scipy\nimport statsmodels.formula.api as smf\nfrom shapely.geometry.polygon import Polygon, Point\nimport pygmt\nimport gc\nimport pytz\nimport pyproj\nimport math\nfrom pathlib import Path\nfrom matplotlib.patches import Polygon as Pgon\nfrom tqdm import tqdm\nfrom sklearn.preprocessing import RobustScaler\nfrom sklearn.preprocessing import StandardScaler\n\nimport SSTutils as sut\n\nimport warnings\nwarnings.filterwarnings('ignore')","key":"MHMGIvkg4r"},{"type":"output","id":"JYU3tShfx-Km-lIZMkJgQ","data":[{"output_type":"stream","name":"stdout","text":"Collecting pykrige\r\n  Downloading pykrige-1.7.2.tar.gz (618 kB)\r\n\u001b[?25l     \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m0.0/618.7 kB\u001b[0m \u001b[31m?\u001b[0m eta \u001b[36m-:--:--\u001b[0m"},{"output_type":"stream","name":"stdout","text":"\r\u001b[2K     \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m618.7/618.7 kB\u001b[0m \u001b[31m63.6 MB/s\u001b[0m  \u001b[33m0:00:00\u001b[0m\r\n\u001b[?25h"},{"output_type":"stream","name":"stdout","text":"  Installing build dependencies ... \u001b[?25l-"},{"output_type":"stream","name":"stdout","text":"\b \b\\"},{"output_type":"stream","name":"stdout","text":"\b \b|"},{"output_type":"stream","name":"stdout","text":"\b \b/"},{"output_type":"stream","name":"stdout","text":"\b \b-"},{"output_type":"stream","name":"stdout","text":"\b \b\\"},{"output_type":"stream","name":"stdout","text":"\b \b|"},{"output_type":"stream","name":"stdout","text":"\b \b/"},{"output_type":"stream","name":"stdout","text":"\b \b-"},{"output_type":"stream","name":"stdout","text":"\b \b\\"},{"output_type":"stream","name":"stdout","text":"\b \b|"},{"output_type":"stream","name":"stdout","text":"\b \b/"},{"output_type":"stream","name":"stdout","text":"\b \b-"},{"output_type":"stream","name":"stdout","text":"\b \b\\"},{"output_type":"stream","name":"stdout","text":"\b \bdone\r\n"},{"output_type":"stream","name":"stdout","text":"\u001b[?25h  Getting requirements to build wheel ... \u001b[?25l-"},{"output_type":"stream","name":"stdout","text":"\b \b\\"},{"output_type":"stream","name":"stdout","text":"\b \b|"},{"output_type":"stream","name":"stdout","text":"\b \bdone\r\n"},{"output_type":"stream","name":"stdout","text":"\u001b[?25h  Preparing metadata (pyproject.toml) ... \u001b[?25l-"},{"output_type":"stream","name":"stdout","text":"\b \b\\"},{"output_type":"stream","name":"stdout","text":"\b \bdone\r\n"},{"output_type":"stream","name":"stdout","text":"\u001b[?25hRequirement already satisfied: numpy>=1.20.0 in /home/runner/micromamba/envs/landsat-product-cookbook-dev/lib/python3.13/site-packages (from pykrige) (2.2.6)\r\nRequirement already satisfied: scipy<2,>=1.1.0 in /home/runner/micromamba/envs/landsat-product-cookbook-dev/lib/python3.13/site-packages (from pykrige) (1.16.0)\r\nBuilding wheels for collected packages: pykrige\r\n"},{"output_type":"stream","name":"stdout","text":"  Building wheel for pykrige (pyproject.toml) ... \u001b[?25l-"},{"output_type":"stream","name":"stdout","text":"\b \b\\"},{"output_type":"stream","name":"stdout","text":"\b \b|"},{"output_type":"stream","name":"stdout","text":"\b \b/"},{"output_type":"stream","name":"stdout","text":"\b \bdone\r\n\u001b[?25h  Created wheel for pykrige: filename=pykrige-1.7.2-cp313-cp313-linux_x86_64.whl size=239566 sha256=dbd42943343995aff847c47ee56dd5b38f8f4299faa9b8c3772aa43c67cf1290\r\n  Stored in directory: /home/runner/.cache/pip/wheels/4e/38/d7/78be390d01bdc3f679ae44634bc4c749f6505db1dae2e3b04e\r\nSuccessfully built pykrige\r\n"},{"output_type":"stream","name":"stdout","text":"Installing collected packages: pykrige\r\n"},{"output_type":"stream","name":"stdout","text":"Successfully installed pykrige-1.7.2\r\n"},{"output_type":"stream","name":"stdout","text":"Note: you may need to restart the kernel to use updated packages.\n"},{"output_type":"error","traceback":"\u001b[31m---------------------------------------------------------------------------\u001b[39m\n\u001b[31mModuleNotFoundError\u001b[39m                       Traceback (most recent call last)\n\u001b[36mCell\u001b[39m\u001b[36m \u001b[39m\u001b[32mIn[2]\u001b[39m\u001b[32m, line 15\u001b[39m\n\u001b[32m     13\u001b[39m \u001b[38;5;28;01mfrom\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mmatplotlib\u001b[39;00m\u001b[34;01m.\u001b[39;00m\u001b[34;01mcolors\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mimport\u001b[39;00m Normalize\n\u001b[32m     14\u001b[39m \u001b[38;5;28;01mfrom\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mmpl_toolkits\u001b[39;00m\u001b[34;01m.\u001b[39;00m\u001b[34;01mmplot3d\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mimport\u001b[39;00m Axes3D\n\u001b[32m---> \u001b[39m\u001b[32m15\u001b[39m \u001b[38;5;28;01mfrom\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mskimage\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mimport\u001b[39;00m exposure\n\u001b[32m     16\u001b[39m \u001b[38;5;28;01mfrom\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mskimage\u001b[39;00m\u001b[34;01m.\u001b[39;00m\u001b[34;01mio\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mimport\u001b[39;00m imsave, imread\n\u001b[32m     17\u001b[39m \u001b[38;5;28;01mfrom\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mosgeo\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mimport\u001b[39;00m ogr\n\n\u001b[31mModuleNotFoundError\u001b[39m: No module named 'skimage'","ename":"ModuleNotFoundError","evalue":"No module named 'skimage'"}],"key":"TnMN3UA74s"}],"key":"A9QPtMKqAk"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Why do we need to validate?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WywcxOVifN"}],"identifier":"why-do-we-need-to-validate","label":"Why do we need to validate?","html_id":"why-do-we-need-to-validate","implicit":true,"key":"GlFdviqmYl"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Now we have our calibrated SST data product! 🥳 We’re almost ready to use this data product for our scientific analysis, but there is still one more important step. As a quick reminder, our data product was derived from top-of-atmosphere radiance measurements. We then converted these radiances into actual SST values (in units of temperature) by calibrating with another satellite (MODIS). But can we trust that these derived SST values are accurately reflecting real ocean surface temperatures? Validation allows us to quantitfy the uncertainty of our product.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"iR44TN1oEl"}],"key":"pi8Tc2vy01"}],"key":"ijsF6qqH0T"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Finding data to validate with","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nxpwkKdmPp"}],"identifier":"finding-data-to-validate-with","label":"Finding data to validate with","html_id":"finding-data-to-validate-with","implicit":true,"key":"pVnP0fHMRu"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"When validating satellite products, we typically want to use in situ measurements: i.e., direct measurements taken in the field. For the ocean, these measurements come from buoys, ship-based thermometers and autonomous floats. An important thing to keep in mind is that while satellites measure the skin temperature (top ~10–20 microns), in situ platforms measure bulk SST (a few cm to 1 m depth).","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"wBCo6Kujjw"}],"key":"kdEgerz9QJ"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Should be high quality!","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"vhw0ibpbJe"}],"key":"d8jyXviqMn"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Finding a good validation dataset can be tricky. Here’s are some lists of commonly-used validation datasets to help get you started:","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"NrQgaFY548"}],"key":"o5f9MQJyfH"}],"key":"SgRSNeMqvr"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"TO DO: These links need to be checked","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"javEFfAaGS"}],"key":"bGGBcX69Dt"}],"key":"iduYF2pJRm"},{"type":"block","kind":"notebook-content","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"🌊 Ocean","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"P7mNb7yJ1B"}],"key":"jvYWTVcTXo"},{"type":"table","position":{"start":{"line":4,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Dataset","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"wrTnRkJBXj"}],"key":"dWP6zbZLhu"}],"key":"KSz8GemDKw"},{"type":"tableCell","header":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Access","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"yhU3DIsG0b"}],"key":"dhD57H2B8i"}],"key":"qFybIY0kHs"},{"type":"tableCell","header":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Variables","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"OHptZibCqh"}],"key":"jsOamtY1Iu"}],"key":"DavvWCeL2O"}],"key":"psrbWVNOkZ"},{"type":"tableRow","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"strong","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Argo","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"ASTosD7qXu"}],"key":"PllYkNkjF2"}],"key":"no66Ctn7gz"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"link","url":"https://argo.ucsd.edu/data/acknowledging-argo/","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"argo.ucsd.edu","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"RUGGFIdCGV"}],"urlSource":"https://argo.ucsd.edu/data/acknowledging-argo/","key":"xVtENRyS9m"},{"type":"text","value":"  — DOI: ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"b5NkJJNRLK"},{"type":"cite","url":"https://doi.org/10.17882/42182","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Argo (2025)","key":"T1TioiHAY5"}],"kind":"narrative","label":"https://doi.org/10.17882/42182","identifier":"https://doi.org/10.17882/42182","enumerator":"1","key":"VfiJyvzurA"},{"type":"text","value":" ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"s4iGDuRSQg"},{"type":"break","key":"Oq2KC64eJD"},{"type":"text","value":" ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"I1KroU0uhn"},{"type":"link","url":"https://www.ncei.noaa.gov/access/metadata/landing-page/bin/iso?id=gov.noaa.nodc%3AArgo-Monthly","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"NOAA archive","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"DlquJZXenN"}],"urlSource":"https://www.ncei.noaa.gov/access/metadata/landing-page/bin/iso?id=gov.noaa.nodc%3AArgo-Monthly","key":"gAhYb0Vuan"},{"type":"text","value":" — DOI: ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"u1wXPWUEbG"},{"type":"cite","url":"https://doi.org/10.25921/q97e-d719","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"10.25921/q97e‑d719","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"HKsmTqGepu"}],"kind":"narrative","label":"https://doi.org/10.25921/q97e-d719","identifier":"https://doi.org/10.25921/q97e-d719","enumerator":"2","key":"AImiWvpk1v"}],"key":"XxFflzwhTQ"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Sea surface temperature, salinity","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"UIpYuHS3Uh"}],"key":"lbGCB8qUZY"}],"key":"CGB9UpzwMH"},{"type":"tableRow","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"GHRSST iQuam","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"idwyW0a95i"}],"key":"EJuij8tM61"}],"key":"SptH9R8TVk"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"link","url":"https://www.star.nesdis.noaa.gov/socd/sst/iquam/","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"GHRSST iQuam website","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"Mevb9xgYps"}],"urlSource":"https://www.star.nesdis.noaa.gov/socd/sst/iquam/","key":"gdQMSRgQdq"},{"type":"text","value":" ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"MUK8o50TQL"},{"type":"break","key":"atJKbNB6hS"},{"type":"text","value":" ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"Ioij4LIl43"},{"type":"cite","url":"https://doi.org/10.5281/zenodo.7589540","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"GHRSST documentation (Zenodo)","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"XNC6rkICgk"}],"kind":"narrative","label":"https://doi.org/10.5281/zenodo.7589540","identifier":"https://doi.org/10.5281/zenodo.7589540","enumerator":"3","key":"OLOTRW8gXX"}],"key":"BqvMJKaTMQ"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Sea surface temperature","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"XfENBhKKmH"}],"key":"fSWbFNR8L4"}],"key":"Ace3PwovLN"},{"type":"tableRow","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"GTSPP","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"TqiFpgb98E"}],"key":"g8grOpQSA9"}],"key":"TsbGpvQvT9"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"link","url":"https://www.ncei.noaa.gov/products/global-temperature-salinity-profile-program","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"NCEI GTSPP access","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"EF3RDgr3Dc"}],"urlSource":"https://www.ncei.noaa.gov/products/global-temperature-salinity-profile-program","key":"p54jX74iqD"}],"key":"zJhqHzUzTL"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Temperature, salinity profiles","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"ZWE8gzf4i1"}],"key":"IgegtbkEr1"}],"key":"a4jiDgskI5"},{"type":"tableRow","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"strong","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"SPURS","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"YeyPpfBGC7"}],"key":"JlbtR2NbJe"}],"key":"L98fooB4R4"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"link","url":"https://spurs.jpl.nasa.gov/","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"SPURS homepage (NASA)","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"qKL0r0wgVA"}],"urlSource":"https://spurs.jpl.nasa.gov/","key":"KN0lq89XsU"}],"key":"eVEsqoC49k"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Sea surface salinity","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"BdvgDdn4Mh"}],"key":"l4x5IiH9Vg"}],"key":"yAyRdQBCAc"},{"type":"tableRow","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"SeaBASS","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"EcD5oSQoAv"}],"key":"PQgazojM2x"}],"key":"S7z99bQjpH"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"link","url":"https://seabass.gsfc.nasa.gov/","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"seabass​.gsfc​.nasa​.gov","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"Dqe8f4Sgex"}],"urlSource":"https://seabass.gsfc.nasa.gov/","key":"nym5L5hlhE"}],"key":"Tv6QRQBWav"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Ocean color, chlorophyll-a","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"OOqPzXmOT0"}],"key":"Z7eGXaqGY6"}],"key":"aubmA4Gkqs"},{"type":"tableRow","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"strong","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"NOMAD","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"O9x9E0gIKA"}],"key":"C1PNBarghc"}],"key":"HxrrSO6KeP"},{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"link","url":"https://www.star.nesdis.noaa.gov/socd/ocean/color/NOMAD/NOMAD.shtml","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"NOMAD at NOAA STAR","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"ta1quRtM3s"}],"urlSource":"https://www.star.nesdis.noaa.gov/socd/ocean/color/NOMAD/NOMAD.shtml","key":"bkYr7sTaGu"}],"key":"I7qYtEu9oi"},{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Ocean color, chlorophyll-a","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"AdpYf753FX"}],"key":"aT3KCf69YB"}],"key":"eb25FRnwuE"},{"type":"tableRow","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"strong","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"BOUSSOLE","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"JUhuCDZmm5"}],"key":"zXW0vcjDYg"}],"key":"IwGi5ZYNXb"},{"type":"tableCell","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"link","url":"https://www.obs-vlfr.fr/Boussole/html/home/home.php","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"BOUSSOLE Project","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"LWor93Ce5k"}],"urlSource":"https://www.obs-vlfr.fr/Boussole/html/home/home.php","key":"ThhETDvceO"}],"key":"aynuTm8CgB"},{"type":"tableCell","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Ocean color, optics, chlorophyll","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"v5rcNkgrl9"}],"key":"a3bQ2T2S2Q"}],"key":"bz0VbxH2Rg"},{"type":"tableRow","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"strong","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"GDP (Drifters)","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"ZRJNhzg5WH"}],"key":"zk8H2Yf14Q"}],"key":"jHE4Zj5Gad"},{"type":"tableCell","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"link","url":"https://www.aoml.noaa.gov/phod/gdp/","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Global Drifter Program","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"fi7Bf9yEu8"}],"urlSource":"https://www.aoml.noaa.gov/phod/gdp/","key":"EoZT5pPVwj"}],"key":"fl59lWmJJy"},{"type":"tableCell","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Ocean surface currents","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"Wfz08v6Gwr"}],"key":"ssniKSyBc3"}],"key":"w7hWh6jdQ9"},{"type":"tableRow","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"strong","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"HF Radar","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"yumUPUXT51"}],"key":"tNrXCy8HCf"}],"key":"mSbdu5GZLq"},{"type":"tableCell","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"link","url":"https://hfrnet.ucsd.edu/","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"HFRNet Portal","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"MSNcmMqh17"}],"urlSource":"https://hfrnet.ucsd.edu/","key":"y4gLvLXYDZ"}],"key":"ZSxtXdrBAi"},{"type":"tableCell","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Ocean surface currents","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"U3524n0Fyr"}],"key":"f0PudPYWUM"}],"key":"EJRxXnDzct"},{"type":"tableRow","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"strong","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"ADCP","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"PBNxYsWWG9"}],"key":"AM9AnHjOTT"}],"key":"ZZ50m12GIw"},{"type":"tableCell","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"link","url":"https://www.aoml.noaa.gov/phod/goos/adcp/index.php","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"NOAA ADCP Program","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"rY11kS3v85"}],"urlSource":"https://www.aoml.noaa.gov/phod/goos/adcp/index.php","key":"lfoMpfwCJT"}],"key":"JESZixMXhk"},{"type":"tableCell","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Water column currents","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"Nx9IONuXih"}],"key":"djeiGmSb4L"}],"key":"qq5mDCYb49"}],"key":"n7p17xL70d"}],"class":"toggle","key":"xPpR9sb4qv"}],"key":"rQYjC1ubfI"},{"type":"block","kind":"notebook-content","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"⛅️ Atmosphere","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qCAVJ8JzJQ"}],"key":"p7qgrYgVEO"},{"type":"table","position":{"start":{"line":4,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Dataset","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Us66uU0xhB"}],"key":"CAav9B3UcY"}],"key":"xn1qSGamCN"},{"type":"tableCell","header":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Access","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"NJrozFUNDP"}],"key":"i2svT6FUa3"}],"key":"ajH1oFVpee"},{"type":"tableCell","header":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Variables","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"R05qAMeFuy"}],"key":"nrkc6RY7co"}],"key":"tFxLzPfzh4"}],"key":"V9dsQZElIv"},{"type":"tableRow","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"strong","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"AERONET","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"xOQLvDzQT4"}],"key":"B5ePQPLLwo"}],"key":"sjkbe6rd2V"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"link","url":"https://aeronet.gsfc.nasa.gov/","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"aeronet​.gsfc​.nasa​.gov","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Xe7wm4KUFs"}],"urlSource":"https://aeronet.gsfc.nasa.gov/","key":"UDnaw1SQFB"},{"type":"text","value":" ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"p86PaFba8u"},{"type":"break","key":"UgldGNgTWO"},{"type":"text","value":" ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"bQhkXfca1t"},{"type":"link","url":"https://www.re3data.org/repository/r3d100011742","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"re3data entry","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"W7KB0eQkCO"}],"urlSource":"https://www.re3data.org/repository/r3d100011742","key":"AygCKcEdF8"}],"key":"M6FIAJiBXy"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Aerosol optical depth (AOD), aerosol type","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"VSkrIf5ATD"}],"key":"b9UhhJ5qoT"}],"key":"P95jo6Wler"},{"type":"tableRow","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"IGRA","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"lUXyujJhil"}],"key":"QCA0LQbKxi"}],"key":"UMIr2XzqPy"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"link","url":"https://www.ncei.noaa.gov/products/integrated-global-radiosonde-archive","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"IGRA at NOAA","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"jHymc4Ywed"}],"urlSource":"https://www.ncei.noaa.gov/products/integrated-global-radiosonde-archive","key":"XBBoBpw60c"}],"key":"AUvop5afFy"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Atmospheric temperature, pressure","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"CEu9V1ea3i"}],"key":"exqTWsnuY0"}],"key":"r2M6xkD36h"},{"type":"tableRow","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"GRUAN","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"ETlNVUlo72"}],"key":"jmKzAIuF4I"}],"key":"cSfUg4MhsK"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"link","url":"https://www.gruan.org/","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"GRUAN","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"gg3HJBjQ1R"}],"urlSource":"https://www.gruan.org/","key":"CCQ8ab0s80"}],"key":"kl6U7O5bho"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Temperature, humidity, pressure","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"P75in7VeLz"}],"key":"IJdEnYUplS"}],"key":"qovqTb44H9"},{"type":"tableRow","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"strong","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"METAR/ASOS","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"xakmQuVFah"}],"key":"ffrbepdIVO"}],"key":"VtMjoSNN5o"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"link","url":"https://mesonet.agron.iastate.edu/request/download.phtml","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Iowa State Mesonet","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"rEuPb19apl"}],"urlSource":"https://mesonet.agron.iastate.edu/request/download.phtml","key":"mobr1A20Iv"}],"key":"Zea542yCXj"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Surface temperature, pressure","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"YJ1io0faXC"}],"key":"e6zDEh29bs"}],"key":"YLJpPPPkqE"},{"type":"tableRow","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"GPM-GV","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"Dd5JYLgFju"}],"key":"LiKojGiDkC"}],"key":"NlvyxKX7iq"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"link","url":"https://gpm.nasa.gov/resources/ground-validation","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"NASA GPM Ground Validation","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"hH8F8ppOyc"}],"urlSource":"https://gpm.nasa.gov/resources/ground-validation","key":"LH7bjJORlG"}],"key":"nDpybL6emG"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Precipitation","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"jEE2UVOttb"}],"key":"hUi1hu51hV"}],"key":"YOkCWl18C3"},{"type":"tableRow","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"strong","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"GPCC","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"AEALXpDUnQ"}],"key":"FlBrUQPSCB"}],"key":"ghj6Mqf7Ro"},{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"link","url":"https://opendata.dwd.de/climate_environment/GPCC/","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"GPCC at DWD","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"jmZeNLYhB3"}],"urlSource":"https://opendata.dwd.de/climate_environment/GPCC/","key":"y3T3Svp8xS"}],"key":"tD1uJzQs9S"},{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Precipitation","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"vRAmkJ2dyO"}],"key":"zityRqzaxT"}],"key":"aG8uzZ2DGT"},{"type":"tableRow","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"strong","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"SKYNET","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"lOYikxh54t"}],"key":"Qhf3ET5Spw"}],"key":"WmwYlviz59"},{"type":"tableCell","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"link","url":"http://atmos.cr.chiba-u.ac.jp/skynet/","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Chiba University SKYNET","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"jfnQHcr0U7"}],"urlSource":"http://atmos.cr.chiba-u.ac.jp/skynet/","key":"qfDnrQ6JJo"}],"key":"CmepdDoOqZ"},{"type":"tableCell","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Aerosols, AOD","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"wcNEqfKyn1"}],"key":"DTvb9dSC80"}],"key":"F4EnPGY6qC"},{"type":"tableRow","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"strong","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"MPLNET","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"PFYStcEtSs"}],"key":"m49epbzFgz"}],"key":"xHEcsx5eRr"},{"type":"tableCell","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"link","url":"https://mplnet.gsfc.nasa.gov/","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"MPLNET at NASA","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"YjiJEJ7NLH"}],"urlSource":"https://mplnet.gsfc.nasa.gov/","key":"t2whc3Oq8Y"}],"key":"zqRaMh25yb"},{"type":"tableCell","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Aerosols, clouds","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"sI2wqcigRk"}],"key":"LI99UMFgyx"}],"key":"lPFE02rMV4"},{"type":"tableRow","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"strong","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"TCCON","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"CZ34fyoHOr"}],"key":"eNA2YahWCO"}],"key":"v6M4V4zRoL"},{"type":"tableCell","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"link","url":"https://tccondata.org/","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"TCCON Data Portal","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"HhEBBrL37m"}],"urlSource":"https://tccondata.org/","key":"VNV1rUSlVM"}],"key":"uKOnZerWhJ"},{"type":"tableCell","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"CO₂, CH₄, other trace gases","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"IB7g7ljbNo"}],"key":"UFDf9eS3Ko"}],"key":"Jli6Tsxrtb"},{"type":"tableRow","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"strong","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Pandora","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"awqKHxOWBH"}],"key":"mMoetXtIxi"}],"key":"AmOfaWidPa"},{"type":"tableCell","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"link","url":"https://pandora.gsfc.nasa.gov/","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Pandora Project","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"NKtcfiAUiK"}],"urlSource":"https://pandora.gsfc.nasa.gov/","key":"QhZehQQuyK"}],"key":"aTQLXZGnwH"},{"type":"tableCell","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"NO₂, O₃, trace gases","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"N5GrUp4os6"}],"key":"EiV6Obmx0L"}],"key":"CrHKp5mIEj"},{"type":"tableRow","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"strong","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"MAX-DOAS","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"yU9vfgWaef"}],"key":"xJgK2c3UKH"}],"key":"e1iLj98iSb"},{"type":"tableCell","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"link","url":"https://uv-vis.aeronomie.be/maxdoas/","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"MAX-DOAS Network","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"ntO9ALRbev"}],"urlSource":"https://uv-vis.aeronomie.be/maxdoas/","key":"Wqr1scVTAA"}],"key":"WV5UY0Tz5s"},{"type":"tableCell","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"NO₂, SO₂, HCHO","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"cEA14rvI2R"}],"key":"vDveurBqzP"}],"key":"y2sTf6G1vI"}],"key":"mDh148YQ1k"}],"class":"toggle","key":"cjnT2kK93L"}],"key":"EwswEXkV9t"},{"type":"block","kind":"notebook-content","data":{"jp-MarkdownHeadingCollapsed":true},"children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"🌳 Land","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Vkz48krVZz"}],"key":"NgNkyls92A"},{"type":"table","position":{"start":{"line":4,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Dataset","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"hF4ppNJrep"}],"key":"g17as7XloI"}],"key":"ckfhdtMyZq"},{"type":"tableCell","header":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Access","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"bafDyaRj26"}],"key":"AxDxm1Uv9D"}],"key":"mjDwXZwaRW"},{"type":"tableCell","header":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Variables","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"bjiWt7xbuS"}],"key":"fCVMNhU7yl"}],"key":"X4DN0hLsGx"}],"key":"k5y1k7BAiK"},{"type":"tableRow","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"strong","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"SURFRAD","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"sfu0zWatzC"}],"key":"MiaEt0XmFc"}],"key":"tHVwmnqfP7"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"link","url":"https://www.esrl.noaa.gov/gmd/grad/surfrad/","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"NOAA SURFRAD","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"NvZj2Bpk7k"}],"urlSource":"https://www.esrl.noaa.gov/gmd/grad/surfrad/","key":"nO8TopVNs8"}],"key":"jsDl4b7s7i"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Land surface temperature, radiation","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"xnGRhdXJUd"}],"key":"TxkLolExog"}],"key":"Ki6pwSitb3"},{"type":"tableRow","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"BSRN","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"x4udurPhwX"}],"key":"tvuDIr5Q5M"}],"key":"xfqJS6tGBU"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"link","url":"https://bsrn.awi.de/","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"BSRN","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"RAiQTNhArR"}],"urlSource":"https://bsrn.awi.de/","key":"F8z77ZrSzs"}],"key":"VaWyUg2UZc"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Solar radiation, surface energy fluxes","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"zpZWHpBb82"}],"key":"QxDAJIEOkM"}],"key":"sA3XTetR3y"},{"type":"tableRow","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"FLUXNET","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"zTZgd0izWJ"}],"key":"LBSh5yVAMp"}],"key":"A6ajFhwnPK"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"link","url":"https://fluxnet.org/","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"fluxnet.org","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"IgUXjxyDAc"}],"urlSource":"https://fluxnet.org/","key":"y4kXYMS0J2"}],"key":"ZqkeJXgUyt"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"LST, vegetation indices, fluxes","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"VEFYYViJ1Z"}],"key":"BHmD8xlf9z"}],"key":"wmtVGqyIbq"},{"type":"tableRow","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"strong","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"SCAN","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"jezDZz1g3w"}],"key":"hI6LBMXAqx"}],"key":"hRe0OcrDbV"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"link","url":"https://www.wcc.nrcs.usda.gov/scan/","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"USDA SCAN","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"qwtJuxbFYu"}],"urlSource":"https://www.wcc.nrcs.usda.gov/scan/","key":"OciqWW8Ni5"}],"key":"LWHDHFtc3i"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Soil moisture","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"XNdnDPLnRW"}],"key":"n3xOhyzDPf"}],"key":"YqVqG3Jn4W"},{"type":"tableRow","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"ISMN","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"Sjw3EPEeCr"}],"key":"p02e70p1YF"}],"key":"cgazkfVM0n"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"link","url":"https://ismn.earth/","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"International Soil Moisture Network","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"cHcO32kPmU"}],"urlSource":"https://ismn.earth/","key":"go6BLdqJSR"}],"key":"g0AQi0dvAv"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Soil moisture","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"ocXnTkw2Ru"}],"key":"KJ8eHZiUbo"}],"key":"ULmEP9BtKs"},{"type":"tableRow","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"strong","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Phenocam","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"CDj4qAbCZ1"}],"key":"sGomIyBUBL"}],"key":"dbeyLQqlJH"},{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"link","url":"https://phenocam.sr.unh.edu/","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Phenocam Network","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"xmmzNPkhlq"}],"urlSource":"https://phenocam.sr.unh.edu/","key":"mZR5EDNoX2"}],"key":"P6YOnv2EUr"},{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Vegetation phenology (NDVI proxy)","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"damWNVur9S"}],"key":"Psg7F6pL2l"}],"key":"c2K3VkW4Ml"},{"type":"tableRow","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"strong","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"NEON","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"LX4sKTB4uA"}],"key":"GqAgkqvKKD"}],"key":"r6Mxen04GG"},{"type":"tableCell","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"link","url":"https://www.neonscience.org/","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"NEON Data Portal","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"zznFFjVn5D"}],"urlSource":"https://www.neonscience.org/","key":"JcSmJjYRbK"}],"key":"ObKMbEslr0"},{"type":"tableCell","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Vegetation indices, climate variables","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"MOw8OBGucG"}],"key":"t6KBVNtMMP"}],"key":"HUshZBUdND"},{"type":"tableRow","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"strong","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"BELMANIP","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"sNEVq7LCzZ"}],"key":"ac5m2Pw6sA"}],"key":"LOEnCOvdSV"},{"type":"tableCell","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"link","url":"https://land.copernicus.eu/global/sites","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Copernicus Land Service","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"yG7nwEtrUv"}],"urlSource":"https://land.copernicus.eu/global/sites","key":"Ff0yGzwFcO"}],"key":"AzI16DNtbk"},{"type":"tableCell","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Leaf area index (LAI)","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"Qjn0LxyH0T"}],"key":"d4n5gty5fZ"}],"key":"DY68nHJubF"},{"type":"tableRow","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"strong","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"VALERI","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"UsADvURW7L"}],"key":"nMpg1rCY22"}],"key":"GK8PkIM9zc"},{"type":"tableCell","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"link","url":"https://w3.avignon.inrae.fr/valeri/","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"VALERI Project","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"ipO9S1OFfq"}],"urlSource":"https://w3.avignon.inrae.fr/valeri/","key":"zimTFWQYxs"}],"key":"Vj6IPHwjAs"},{"type":"tableCell","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"LAI, fAPAR","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"c1vpCQuMUU"}],"key":"NllxS6RRtn"}],"key":"J55jiVbJQj"},{"type":"tableRow","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"strong","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"DIRECT","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"zmMtLgUOvf"}],"key":"m8Vg5ng1Ls"}],"key":"Ltn0pTpLh1"},{"type":"tableCell","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"link","url":"https://www.avignon.inrae.fr/valeri/?q=node/13","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"VALERI/DIRECT Info","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"gEenFn9dWr"}],"urlSource":"https://www.avignon.inrae.fr/valeri/?q=node/13","key":"LfOgh5DOdZ"}],"key":"ytCUUgH804"},{"type":"tableCell","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"LAI","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"X8H9eMJ8YV"}],"key":"Xq1F6IsUjx"}],"key":"EP2PGA3eVW"}],"key":"HOm7oSLA2I"}],"class":"toggle","key":"EsGgldFvRb"}],"key":"pS9m3R1nem"},{"type":"block","kind":"notebook-content","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"❄️ Cryosphere","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uYeQkW42rg"}],"key":"meiYYylbrr"},{"type":"table","position":{"start":{"line":4,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Dataset","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"ROambidmVF"}],"key":"ayzg23JgVs"}],"key":"GKpIsGkz0v"},{"type":"tableCell","header":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Access","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"DoVCkm1AA1"}],"key":"PWhrt5eQIY"}],"key":"l0YCqUDIob"},{"type":"tableCell","header":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Variables","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"aEDG1leniC"}],"key":"BFboj3jvZx"}],"key":"Hw3kvu6Rjb"}],"key":"FItbeaCsjj"},{"type":"tableRow","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"strong","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"SnowEx","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"bheeLUPp9H"}],"key":"f2JK9bLinu"}],"key":"yYu22tFQDi"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"link","url":"https://snow.nasa.gov/campaigns/snowex","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"NASA SnowEx","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"xXnFqpGfan"}],"urlSource":"https://snow.nasa.gov/campaigns/snowex","key":"tputzBX6Zl"}],"key":"ng23EfcV7C"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Snow depth, snow cover, SWE","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"vofRezLffQ"}],"key":"rlNtAjYWFl"}],"key":"Odbv8quMLU"},{"type":"tableRow","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"CALVAL (NSIDC)","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"XCeveha4pN"}],"key":"gXqDVW1nEm"}],"key":"AjdD2pkuNj"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"link","url":"https://nsidc.org/data/calval","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"NSIDC Cal/Val","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"cHxqDVZlgl"}],"urlSource":"https://nsidc.org/data/calval","key":"L2O2vC9l3o"}],"key":"uHTVw8oUcZ"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Snow, cryosphere","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"npEVHHm6rT"}],"key":"TgH3IMSv3g"}],"key":"eQmkWZzUf0"},{"type":"tableRow","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"GSNOW","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"Dqch6WTzk5"}],"key":"zHJ78BfMtv"}],"key":"UZu3JIiIRR"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"link","url":"https://www.ncei.noaa.gov/products/snow-cover","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"NOAA GSNOW","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"xsZupwuL15"}],"urlSource":"https://www.ncei.noaa.gov/products/snow-cover","key":"vRHPI0K33m"}],"key":"hGZMGMHYa1"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Snow cover","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"dmtadpdGwK"}],"key":"OnvubEtqyY"}],"key":"reZlA58Mum"},{"type":"tableRow","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"strong","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"NSIDC","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"QjGiAVwUGt"}],"key":"wrTrtSbG74"}],"key":"xpYO9ugd68"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"link","url":"https://nsidc.org/","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"NSIDC","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"odOqz2eaRs"}],"urlSource":"https://nsidc.org/","key":"e3BVLEAfrQ"}],"key":"nbDOvqshne"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Sea ice, snow cover","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"E83uvsCcvH"}],"key":"ThGPnLTmrB"}],"key":"LYUo2HAonV"},{"type":"tableRow","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"IABP (Ice Buoys)","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"J94bEadY9O"}],"key":"mAdA9I84Nk"}],"key":"JLOrlKz16E"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"link","url":"https://iabp.apl.uw.edu/","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"International Arctic Buoy Program","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"bHo2rwbTtG"}],"urlSource":"https://iabp.apl.uw.edu/","key":"v5kB4RSQQ7"}],"key":"A8nUg80nr4"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Sea ice concentration, drift","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"FZanb8MqBp"}],"key":"hIEIwcu9bC"}],"key":"WdKEGYeHJ2"},{"type":"tableRow","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"strong","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"IceBridge","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"Ii9YpImp70"}],"key":"RvktvsR2IV"}],"key":"cTXYZ1e4xz"},{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"link","url":"https://nsidc.org/data/icebridge","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"NASA IceBridge","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"jU9gu9pAWM"}],"urlSource":"https://nsidc.org/data/icebridge","key":"lXyhqnpTiL"}],"key":"ttINdZzqgX"},{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Ice sheet elevation, thickness","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"cwLSdJ6rdB"}],"key":"EylGDhA0AS"}],"key":"vsmZFYdLpT"},{"type":"tableRow","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"strong","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"ATM","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"zPsYNsjzvB"}],"key":"eL1fV4ieiU"}],"key":"EmBKek46zp"},{"type":"tableCell","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"link","url":"https://nsidc.org/data/ILATM2","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Airborne Topographic Mapper (ATM)","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"yUY5TgjKu1"}],"urlSource":"https://nsidc.org/data/ILATM2","key":"QkKfGta7ra"}],"key":"bgoUkK8VJW"},{"type":"tableCell","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Ice elevation profiles","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"SUo3Q1RiHa"}],"key":"wOCkKbpuDR"}],"key":"k5IOAupR7J"},{"type":"tableRow","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"strong","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"NOHRSC","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"xEEl1aMpuo"}],"key":"Twdyni4Pty"}],"key":"AtxeEbkAVT"},{"type":"tableCell","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"link","url":"https://www.nohrsc.noaa.gov/","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"NOAA NOHRSC","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"zttpBgTE2u"}],"urlSource":"https://www.nohrsc.noaa.gov/","key":"qDEOdNKCpB"}],"key":"N7QmcaAYJs"},{"type":"tableCell","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Snow depth and snow water equivalent","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"RPFV35w5r9"}],"key":"sOqGZgCseg"}],"key":"cREjayRgxc"},{"type":"tableRow","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"strong","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"CCSN (Canada)","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"NVGcB5du76"}],"key":"U9eFqjLqka"}],"key":"Kklu0fVXGM"},{"type":"tableCell","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"link","url":"https://open.canada.ca/data/en/dataset/5ff9d50e-591f-4e06-9b8f-0a707e8a1a74","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Canadian Cryospheric Snow Network","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"eLRlCSHs5o"}],"urlSource":"https://open.canada.ca/data/en/dataset/5ff9d50e-591f-4e06-9b8f-0a707e8a1a74","key":"JkDRMs2TDu"}],"key":"mgJjLSc8jS"},{"type":"tableCell","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Snow depth, SWE","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"X6pq1kcS9w"}],"key":"R12IY3fTfd"}],"key":"TMflcHkqvo"}],"key":"Z6ZriZuB6U"}],"class":"toggle","key":"bzPw6MbHto"}],"key":"GZSMI1qZd3"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Example: GHRSST iQUAM data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FfOoTxCZ6h"}],"identifier":"example-ghrsst-iquam-data","label":"Example: GHRSST iQUAM data","html_id":"example-ghrsst-iquam-data","implicit":true,"key":"bWibe8PjIt"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"For our new SST product, we’ll use the GHRSST iQUAM dataset for validation. GHRSST is the Group for High Resolution Sea Surface Temperature – an international collaboration supporting high-quality SST products for research and operational use – and iQuam is a system developed by NOAA to collect, quality-control (QC), and distribute in situ SST observations in near real-time and delayed mode. This dataset aggregates SST measurements from a variety of in situ platforms, such as drifting buoys, moored buoys, shipboard sensors, and Argo floats.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"xuJSMrsqAR"}],"key":"RqqWQewB7b"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"link","url":"https://www.star.nesdis.noaa.gov/socd/sst/iquam/?tab=0&dateinput_year=2023&dateinput_month=02&dayofmoninput_day=26&dateinput_hour=00&dayofmon=monthly&qcrefsst=_qcrey&qcrefsst=_qccmc&outlier=qced#qmap","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"https://​www​.star​.nesdis​.noaa​.gov​/socd​/sst​/iquam​/​?tab​=​0​&​dateinput​_year​=​2023​&​dateinput​_month​=​02​&​dayofmoninput​_day​=​26​&​dateinput​_hour​=​00​&​dayofmon​=​monthly​&​qcrefsst​=​​_qcrey​&​qcrefsst​=​​_qccmc​&​outlier​=​qced​#qmap","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"kL4vE0HUux"}],"urlSource":"https://www.star.nesdis.noaa.gov/socd/sst/iquam/?tab=0&dateinput_year=2023&dateinput_month=02&dayofmoninput_day=26&dateinput_hour=00&dayofmon=monthly&qcrefsst=_qcrey&qcrefsst=_qccmc&outlier=qced#qmap","key":"ZtsxIWohjX"}],"key":"okv2rJM42e"}],"key":"Cllq8c1q2j"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Finding data matchups","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RIu2kBmoYG"}],"identifier":"finding-data-matchups","label":"Finding data matchups","html_id":"finding-data-matchups","implicit":true,"key":"Xw1t2PpVum"}],"key":"yZCAvzrO1H"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Here are some important considerations we need to make when finding matchups between the satellite product and in situ datasets:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PtVZSzoBWs"}],"key":"oTKzFMVzX8"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"🔹 ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"EQWLSChOPa"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"1. Spatial Collocation","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"LjKBhQwS2X"}],"key":"YmcX01qT6H"}],"key":"nkwhkxhRLl"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Footprint Differences: Satellite pixels often represent an area (e.g., 1 km² or more), while in situ data may be point measurements.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"jQZpNWzwRP"}],"key":"uGDLn1nxrx"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Solution: Use in situ data averaged over the satellite footprint or compare satellite data averaged over multiple pixels surrounding the in situ point.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"s5f8Pkof4Q"}],"key":"vbwVl1XK8t"}],"key":"PK95SacrXt"}],"key":"nq0O4Y84Ju"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Geolocation Accuracy: Both satellite and in situ positions should be accurately known, especially in dynamic environments (e.g., drifting buoys).","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"l3M2xRsQX5"}],"key":"lBB5IS5G4Z"}],"key":"jPMq1pFToL"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Environmental Variability: Spatial gradients (e.g., near coastlines or fronts) can lead to mismatches even with close locations.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"uajPnizb8v"}],"key":"hu2k38cRty"}],"key":"CfZkiXioU5"}],"key":"x67JJGIECQ"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"🔹 ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"SgNw3Fdloc"},{"type":"strong","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"2. Temporal Matching","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"bIxbAaFQ7u"}],"key":"YBOzjY3nzg"}],"key":"NxUauEMi4C"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":12,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Temporal Resolution: Satellites provide snapshots (sometimes daily, sometimes instantaneous), while in situ data may be continuous or periodic.","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"zllXK9ATcU"}],"key":"u4ftwLrSTk"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":13,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Solution: Match satellite observation time as closely as possible to in situ sampling time (e.g., within ±1 hour).","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"C8CpdlmQcI"}],"key":"OkDLzcZTDc"}],"key":"UEKFbPyUQu"}],"key":"OgngvKKPzt"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Diurnal Effects: Some variables (e.g., SST, radiative fluxes) vary significantly throughout the day.","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"K6BpWsaZle"}],"key":"SYGtCtRmbs"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":16,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Solution: Use diurnal correction or only match at known overpass times (e.g., MODIS ~1:30 pm local time).","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"u6IfXpBgaB"}],"key":"QfWQKDlasf"}],"key":"uiMcAYQaez"}],"key":"vBOtwpmFUs"}],"key":"CkMotuU00n"},{"type":"paragraph","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"🔹 ","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"KHdjydU6AX"},{"type":"strong","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"3. Variable Definitions and Depths","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"oUdsmRUUUZ"}],"key":"vXxYiqkf9i"}],"key":"XaBwoCzlvo"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":19,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"Depth Differences: For example, satellite SST represents skin temperature (top ~10–20 μm), whereas in situ sensors often measure at ~1 m.","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"WpNJ79oobl"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"Solution: Apply a skin-to-bulk correction or compare to “foundation temperature” from models.","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"BA8N5J6qd7"}],"key":"GZa2UES2Hn"}],"key":"GFL7UamIcr"}],"key":"LSa0uCRNly"},{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"Variable Representation: Ensure the in situ measurement is of the same quantity the satellite estimates (e.g., top-of-canopy reflectance vs. leaf-level LAI).","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"Y6HgvexI4V"}],"key":"cs2Dir7H7K"}],"key":"SA0mGbPYsz"},{"type":"paragraph","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"🔹 ","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"TzH84NMbPS"},{"type":"strong","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"4. Quality Control","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"UNZNs79pmD"}],"key":"usVEuEEzIZ"}],"key":"VQbEUe9yHj"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":24,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"Flagging: Use only high-quality satellite and in situ data (e.g., use quality flags to exclude cloud-contaminated pixels or questionable sensor readings).","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"g0WcTxqDMi"}],"key":"rj2hCgouMG"},{"type":"listItem","spread":true,"position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"Consistency in Units and Calibration: Verify that data are in the same units and reference systems (e.g., radiance vs. reflectance, SI units).","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"DdlRppgGG1"}],"key":"IExWWHHnyd"},{"type":"listItem","spread":true,"position":{"start":{"line":26,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"Error Estimates: Consider measurement uncertainty and noise in both datasets.","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"Xie3w6fTy1"}],"key":"Niolvuajsi"}],"key":"q4oCbimhfO"},{"type":"paragraph","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"🔹 ","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"rTifbnJwd6"},{"type":"strong","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"5. Statistical Considerations","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"f4IKyVWbk1"}],"key":"GvJWoQx9Ya"}],"key":"NWHZLlhXtE"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":29,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"Matchup Volume: A large number of matchup pairs increases robustness.","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"HmhyXhBI9Z"}],"key":"lh3w39MSEM"},{"type":"listItem","spread":true,"position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"Bias and RMSE Analysis: Use metrics like bias, RMSE, and correlation to assess agreement.","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"SmYQN7gPjv"}],"key":"OxnXdk5t5g"},{"type":"listItem","spread":true,"position":{"start":{"line":31,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"text","value":"Outlier Handling: Identify and analyze outliers to understand limitations or failure modes.","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"ylG6ND6PqC"}],"key":"XwlwU7nmvD"}],"key":"iq92dM5pqr"},{"type":"paragraph","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"🔹 ","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"fdxosE9piQ"},{"type":"strong","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"6. Sensor Calibration","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"Cv9v81Q72I"}],"key":"GHZd11HvtZ"}],"key":"LVqgJ67zJd"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":34,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":34,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"Ensure both satellite and in situ instruments are properly calibrated and traceable to standards.","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"VWNamJ1CIN"}],"key":"udKZun2Asq"}],"key":"Y1Tq4QSFp9"},{"type":"paragraph","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"text","value":"🔹 ","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"fp9V6RqFxR"},{"type":"strong","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"text","value":"7. Geophysical Context","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"JbpkP3rkdk"}],"key":"CuZWbvU2O7"}],"key":"DysbJOOUP8"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"text","value":"Geographical Diversity: Validation should include diverse regions (e.g., open ocean, coastal, tropical, polar) to capture algorithm performance globally. In our example, we are only validating our product near Antarctica, so we should only use this product in that region.","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"U979LiBylS"}],"key":"qi3zbsRvET"}],"key":"mXpEgYz2KK"}],"key":"Go5ondKbRc"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In order to maximize the number of data matchups while still making a fair comparison, we need to determine an appropriate window in space and time. In our example, we set our spatial window to 1 km and our temporal window to half of a day:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LdysGbaWct"}],"key":"H96cxsVt8E"},{"type":"code","lang":"","value":"dist = 1.0\ntime_add = 0.5","position":{"start":{"line":2,"column":1},"end":{"line":5,"column":1}},"key":"eo0joQ7Plg"}],"key":"Oj9LlygQhG"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Landsat STAC catalog location\nurl = 'https://landsatlook.usgs.gov/stac-server'\n\n# Paths\nbasepath = Path('/home/jovyan/landsatproduct-cookbook')\nlsatpath = basepath / 'Data'\natmpath = lsatpath / 'AtmCorrection'\nmodout_path = lsatpath / 'MOD07_L2'\nSSTpath = lsatpath / 'SST/Validation/iQuamIntercomp/'\niQpath = lsatpath / 'iQuam'\n\nWV = 'Water_Vapor'\n\n# For geopandas and tile plots\nsatellite = 'Landsat8'\ncollection = 'landsat-c2l1' # Landsat Collection 2, Level 1\ncolnm = ['landsat:wrs_path','landsat:wrs_row']\ngjson_outfile = lsatpath / f'{satellite}_iQuam.geojson'\n\n# Buffer around iquam point used to create a bounding box for Landsat sample\ndist = 1.0 # km\n\n# Temporal search range (days) before/after iquam measurement for finding Landsat image\ntime_add = 0.5\n\nlthresh = -1.9\n\ninterp = 1","key":"u2G7ajaO40"},{"type":"output","id":"c3brpBv4HnAxvjsTYC1FQ","data":[],"key":"rp8XFHAvOq"}],"key":"TkaCDcTQzX"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import s3fs","key":"iKvkp9bF1G"},{"type":"output","id":"aN-jCteNF1t6tfLmtdg5f","data":[],"key":"Q34a2nklUr"}],"key":"hh8JOlyihM"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"jetstream_url = 'https://js2.jetstream-cloud.org:8001/'\n\ns3 = s3fs.S3FileSystem(anon=True, client_kwargs=dict(endpoint_url=jetstream_url))\n\n# Generate a list of all files in CESM folder\ns3path = 's3://pythia/landsat8/iQuam/202009-STAR-L2i_GHRSST-SST-iQuam-V2.10-v01.0-fv04.0.nc'\n\ns3file = s3.open(s3path)\n\n# # Open with xarray\nds = xr.open_dataset(s3file)","key":"TJulJJCXYn"},{"type":"output","id":"-LWX8ZktSwd-JxP1JCdG5","data":[],"key":"tQI02oPvXY"}],"key":"ro61HnEGlB"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Year and months desired (multiple years)\nstart_yr = 2013\nend_yr = 2023\n\n# Note these will get months from the later part of the year to early next\nstart_mo = '09'\nend_mo = '03'\n\n# Headers for the saved outputs\nheaders = ['DateTime','L8_filename','L8_SST','L8_std','center','N','S','E','W','NE','SE','NW','SW','L8_SST_max','L8_SST_min','Argo_id','Argo_SST','A_lat','A_lon']\n\n# Desired projection transformation\nsource_crs = 'epsg:4326' \ntarget_crs = 'epsg:3031' # Coordinate system of the Landsat file","key":"cADbFvvC9F"},{"type":"output","id":"kVpuWQROQOuRXiZsTSGgI","data":[],"key":"whVohF7jsU"}],"key":"AbhmrJPnJW"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now we’re ready to find our matchups!","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BrMhpsj59Q"}],"key":"kMsC2Zelz3"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We’re repeating the retrieval step for the locations where we have data matchups.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"AaYwE625bj"}],"key":"XeFBfB9B5H"}],"key":"LlhmlzT0DS"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"%%time\n\n# Multiple years\n\n# Set up projections\ntransformer = Transformer.from_crs(source_crs, target_crs, always_xy=True)\n\n# Get iQuam file paths in directory between desired dates and find and produce matching Landsat SSTs \nfor year in range(start_yr, end_yr):  \n    yrmo = []\n    start_yrmo = f\"{year}{start_mo}\"  # Start from September of the current year\n    end_yrmo = f\"{year+1}{end_mo}\"  # End in March of the next year\n\n    m0 = start_yrmo\n    \n    # Make a list of months between start and end\n    while int(m0) <= int(end_yrmo):\n        calc_dt = datetime.strptime(f'{m0[:4]}-{m0[4:]}', '%Y-%m')\n        yrmo.append(calc_dt.strftime(\"%Y%m\"))\n        m0 = (calc_dt + relativedelta(months=1)).strftime(\"%Y%m\")\n    \n    # Get file names and select only those matching dates from yrmo    \n    iQfiles = os.listdir(iQpath)\n    iQfiles = [x for x in iQfiles if x[:6] in yrmo]\n    iQfiles.sort(reverse=True)\n    print (f'{year}: {len(iQfiles)}')\n    \n    os.chdir(iQpath)\n\n    # For each iquam file, pair West Antarctic Argo buoy data with Landsat data and create calibrated SSTs\n    valid = []\n    \n    for iquam_file in iQfiles:\n        # Open Argos data from iQuam file\n        df = xr.open_dataset(s3file)\n        iquam = df.to_dataframe()\n        \n        # Subset to Antarctica\n        ant = iquam[(iquam.lat<-65)&(iquam.lon>-142)&(iquam.lon<-72)&(iquam.platform_type==5.0)&(iquam.quality_level==5.0)]  # Entire West Antarctica (later)\n        # ant = iquam[(iquam.lat<-69)&(iquam.lon>-125)&(iquam.lon<-98)&(iquam.platform_type==5.0)&(iquam.quality_level==5.0)] # Amundsen Sea\n        \n        # To remove a landsat day that is coming up with a 403 error\n        if ant['year'].iloc[0] == 2020 and ant['month'].iloc[0] == 12:\n            ant = ant[ant.day != 9.0] # for 202012 because otherwise will fail\n        \n        print('')\n        print(f'{iquam_file[:6]}: {ant.shape[0]} measurements')\n    \n        for idx in tqdm(range(ant.shape[0]), desc=\"Processing\"):\n    \n            # Create search area\n            ilat = ant['lat'].iloc[idx]\n            ilon = ant['lon'].iloc[idx]\n    \n            lat_add = sut.km_to_decimal_degrees(dist, ilat, direction='latitude')\n            lon_add = sut.km_to_decimal_degrees(dist, ilat, direction='longitude')\n            bboxV = (ilon-lon_add,ilat-lat_add,ilon+lon_add,ilat+lat_add)\n    \n            # Create Landsat temporal search range in correct format\n            ihr = int(ant.hour.iloc[idx])\n            iyr = int(ant.year.iloc[idx])\n            imo = int(ant.month.iloc[idx])\n    \n            calc_dt = datetime.strptime(f'{iyr}-{imo}-{int(ant.day.iloc[idx])} {ihr}', '%Y-%m-%d %H')\n            start_dt = (calc_dt + timedelta(days=-time_add)).strftime('%Y-%m-%dT%H:%M:%SZ')\n            end_dt = (calc_dt + timedelta(days=time_add)).strftime('%Y-%m-%dT%H:%M:%SZ')\n    \n            timeRangeV = f'{start_dt}/{end_dt}'\n    \n            # Search for desired Landsat scenes\n            items = sut.search_stac(url,collection,gjson_outfile=gjson_outfile,bbox=bboxV,timeRange=timeRangeV)\n    \n            # Load the geojson file and open stac catalog\n            catalog = intake.open_stac_item_collection(items)\n            gf = gpd.read_file(gjson_outfile)\n    \n            # Exclude Landsat 9\n            catalog_list = [x for x in items if x.id[3]=='8']\n            num_scene = len(catalog_list)\n            # print(f'{num_scene} Landsat 8 items')\n    \n            # If any matching landsat scenes are found create calibrated SSTs for them\n            if num_scene>0:\n    \n                # Reproject to determine bounding box in espg 3031\n                sbox,checkbox = sut.lsat_reproj(source_crs,target_crs,(bboxV[0],bboxV[1],bboxV[2],bboxV[3]))\n    \n                # Create polygon for later cropping\n                polygon = Polygon([(sbox[0][0],sbox[0][1]),(sbox[3][0],sbox[3][1]),(sbox[2][0],sbox[2][1]),(sbox[1][0],sbox[1][1])])\n                \n                # Create min/max boundaries for trimming image before crop_xarray to cut down on processing times\n                minx, miny, maxx, maxy = polygon.bounds\n                polarx = [minx, maxx]\n                polary = [miny, maxy]\n    \n                # Create calibrated SSTs for each matching landsat scene\n                for sceneid in catalog_list:\n                    print(sceneid.id)\n    \n                    scene = catalog[sceneid.id]\n                    timestr = scene.metadata['datetime'].strftime('%H%M%S')\n    \n                    outFile = f'{SSTpath}/{sceneid.id}_{timestr}_Cel.tif'\n    \n                    if os.path.isfile(outFile):\n                        print (f'{sceneid.id} - atm corr exists')\n                        ls_scene = xr.open_dataset(outFile,chunks=dict(x=512, y=512),engine='rasterio')\n                        ls_scene = ls_scene.rio.write_crs(\"epsg:3031\", inplace=True)\n    \n                        # Subset all scenes and check for right dimensions because y order changes sometimes\n                        ls_sub = sut.subset_img(ls_scene['band_data'].sel(band=1),polarx,polary) # subset so easier to work with\n    \n                    else:\n                        # try:\n                        # Open all desired bands for one scene\n                        ls_scene = sut.landsat_to_xarray(sceneid,catalog)\n                        ls_scene = ls_scene.rio.write_crs(\"epsg:3031\", inplace=True)\n        \n                        # Create classification mask\n                        ls_scene = sut.create_masks(ls_scene, cloud_mask=True, ice_mask=True, ocean_mask=True)\n\n                        # Check for any open ocean pixels - go to next image if none - ??? s\n                        mask = np.ones(ls_scene.shape[1:])\n                        mask[ls_scene.mask!=3] = np.nan\n                        ls_thermal = ls_scene.sel(band='lwir11').compute()\n\n                        # Check in bounding box or for entire Landsat image depending on whether doing calibration runs or not\n                        ls_box = sut.subset_img(ls_thermal*mask,polarx,polary)\n\n                        if ((ls_box).notnull()).sum().values==0:\n                            print (f'{sceneid.id} has no SSTs')\n                            try:\n                                del ls_scene, scene, mask, ls_thermal, ls_box\n                            except:\n                                pass\n                            gc.collect()\n                            continue\n\n                        # Use band ratios for RF cloud pixel classification\n                        ####\n\n                        # Atmospheric correction using MODIS\n                        # Acquire and align MODIS water vapor (MOD/MYD07) to Landsat\n                        mod07,modfilenm = sut.open_MODIS(ls_scene,scene,modout_path)\n                        print(\"1\")\n\n                        # Create water vapor files aligned and subsampled to Landsat\n                        spacing = [300,-300] # 300m sampling of MODIS data so that upsampling is easy and because 30m takes far too long\n                        WV_xr = sut.get_wv(ls_scene,mod07,spacing,WV,scene,interp=interp)\n                        print(\"2\")\n                        # Create SST by masking and using water vapor to apply atmospheric correction\n                        SST = sut.apply_retrieval(ls_thermal,scene,mask,WV_xr,atmcor,simT_transformer,simTOA_transformer,simWV_transformer)\n\n                        # Record MODIS water vapor image used in atmospheric correction, will find this info save under band_data in\n                        # data variables in COG (click on white paper info button in xarray readout)\n                        SST.attrs['MODIS_WV'] = modfilenm\n\n                        # Save to a cloud-optimized Geotiff\n                        SST.rio.to_raster(raster_path=outFile, driver=\"COG\")\n                        print (f'Mean SST: {np.nanmean(SST)}')\n\n                        # Subset all scenes and check for right dimensions because y order changes sometimes\n                        ls_sub = sut.subset_img(SST,polarx,polary) # subset so easier to work with \n\n                        try:\n                            del mask, ls_thermal, mod07, WV_xr, SST\n                        except:\n                            pass\n    \n                        # except Exception as e:\n                        #     print (sceneid.id, e)\n                        #     lsat = np.nan\n                        #     lstd = np.nan\n    \n                    # Crop data to exact bounding box\n                    ls_sub = sut.crop_xarray_dataarray_with_polygon(ls_sub, polygon) \n    \n                    # Calibrate using MODIS\n                    ls_sub = ls_sub * calib_m + calib_b\n    \n                    # Remove all pixels that are too cold\n                    ls_sub = ls_sub.where(ls_sub>=lthresh,np.nan)\n    \n                    lsat = np.around(np.nanmean(ls_sub),2)\n                    lstd = np.around(np.nanstd(ls_sub),2)\n    \n                    # Convert Argo lat/lon to Landsat's EPSG:3031\n                    argo_px, argo_py = transformer.transform(ilon, ilat)\n    \n                    # 1) Find the nearest center pixel\n                    center_val = ls_sub.sel(x=argo_px, y=argo_py, method=\"nearest\")\n                    \n                    # Extract the x/y coordinate values as plain floats\n                    center_x = center_val.x.item()\n                    center_y = center_val.y.item()\n                    \n                    # 2) Get integer indices from the coordinate indexes\n                    #    This uses ls_sub.get_index('dim_name') -> pandas.Index -> get_indexer(...)\n                    center_x_idx = ls_sub.get_index(\"x\").get_indexer([center_x])[0]\n                    center_y_idx = ls_sub.get_index(\"y\").get_indexer([center_y])[0]\n                    \n                    # 3) Gather offsets for the 3x3 neighborhood\n                    offsets = [\n                        ( 0,  0, \"center\"),\n                        ( 0,  1, \"N\"),\n                        ( 0, -1, \"S\"),\n                        ( 1,  0, \"E\"),\n                        (-1,  0, \"W\"),\n                        ( 1,  1, \"NE\"),\n                        ( 1, -1, \"SE\"),\n                        (-1,  1, \"NW\"),\n                        (-1, -1, \"SW\"),\n                    ]\n                    \n                    neighbors = {}\n                    for dx, dy, name in offsets:\n                        nx = center_x_idx + dx\n                        ny = center_y_idx + dy\n                        # Ensure we're within the array bounds\n                        if (0 <= nx < ls_sub.sizes['x']) and (0 <= ny < ls_sub.sizes['y']):\n                            # xarray dimension order is typically (y, x), so use isel(y=ny, x=nx):\n                            neighbors[name] = ls_sub.isel(y=ny, x=nx).values.item()\n                        else:\n                            neighbors[name] = np.nan\n                    \n                    # 4) Record coincident data from Landsat and Argo float\n                    argo_temp = np.around((ant.sst.iloc[idx] - 273.15),2)  # convert to Celsius\n                    times = pd.to_datetime(calc_dt, format='%Y%m%d%H')  # standardize time\n                    \n                    valid.append([\n                        times,\n                        sceneid.id,\n                        lsat,\n                        lstd,\n                        neighbors['center'],\n                        neighbors['N'],\n                        neighbors['S'],\n                        neighbors['E'],\n                        neighbors['W'],\n                        neighbors['NE'],\n                        neighbors['SE'],\n                        neighbors['NW'],\n                        neighbors['SW'],\n                        ls_sub.max().values.item(),\n                        ls_sub.min().values.item(),\n                        ant.iloc[idx].name,  # Argo ID or whichever label you prefer\n                        argo_temp,\n                        ilat,\n                        ilon\n                    ])\n                    print (f'Argo temp: {argo_temp}, Landsat 8 mean: {lsat}+/-{lstd}')\n    \n                    try:\n                        del ls_scene, scene, ls_thermal, ls_box, mod07, WV_xr, SST, ls_sub, neighbors\n                    except:\n                        pass\n    \n                    gc.collect()\n\n    # Put data into DataFrame and save    \n    lsat_mod_df = pd.DataFrame(valid,columns=headers)\n    out_df = lsatpath / f'Landsat_validation_{start_yrmo}_{end_yrmo}_{dist}.csv'\n    lsat_mod_df.to_csv(out_df)","key":"lO5h7rddyv"},{"type":"output","id":"AOYDmt1goQOVSO_LJE0n1","data":[],"key":"xB1xNjFDdf"}],"key":"WmronFfAWo"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Landsat-iQUAM validation assessment","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NDhSQoT6AV"}],"identifier":"landsat-iquam-validation-assessment","label":"Landsat-iQUAM validation assessment","html_id":"landsat-iquam-validation-assessment","implicit":true,"key":"WvKhuFdOnw"}],"key":"QlU5o2xj6D"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Read in processed matchups\n\n# 20250107 is threshold=-1.9, 20250114 is thresh=-1.94, 20250205 is thresh=-1.9\nout_df = lsatpath / 'Landsat_validation_202009_202103_1.0.csv'\nvalids = pd.read_csv(out_df)\n\nvalids = valids.set_index('DateTime')\nvalids = valids.sort_index()\nvalids['Argo_id'] = valids['Argo_id'].astype(int)\n\n# Remove the non-numeric column for calculating daily means\nnumeric_valids = valids.select_dtypes(include=[np.number])\nvalidmn = numeric_valids.groupby(numeric_valids['Argo_id']).mean()\nvalids = valids.reset_index()\n\n# Group by the date component of the datetime and calculate the difference\nvalids['temp_dif'] = valids.groupby(valids['Argo_id'])[f'L8_SST'].diff()\nvalidmn['temp_dif'] = valids.groupby(valids['Argo_id'])['temp_dif'].first()\nvalids = valids.set_index('DateTime')\n\nvalidmn['std'] = valids.groupby([valids['Argo_id']])[f'L8_SST'].std()\nvalidmn['xaxis'] = pd.to_datetime(validmn.index).dayofyear\nvalidmn['xaxis'][validmn['xaxis']<(365/2)] = validmn['xaxis'] + 365\n\nvalids['xaxis'] = pd.to_datetime(valids.index).dayofyear\nvalids['xaxis'][valids['xaxis']<(365/2)] = valids['xaxis'] + 365\n\nvalidmn = validmn.dropna(subset=['L8_SST'])\n\nvalids","key":"sLLx8sNFAl"},{"type":"output","id":"4KowBRkm32xZOq7CCm3a0","data":[],"key":"aqbhyXXVXO"}],"key":"VQD0ZURtCV"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize all validation matchups for manual QC","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PUH9m2YGo5"}],"identifier":"visualize-all-validation-matchups-for-manual-qc","label":"Visualize all validation matchups for manual QC","html_id":"visualize-all-validation-matchups-for-manual-qc","implicit":true,"key":"ytp3EtSsl9"}],"key":"WKeGjgyNcn"},{"type":"block","kind":"notebook-code","data":{"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"# Setup and authenticate \nfrom dask.distributed import Client\nimport logging\nclient = Client(processes=True, n_workers=4, \n                threads_per_worker=1,\n                silence_logs=logging.ERROR)\nclient.run(lambda: os.environ[\"AWS_REQUEST_PAYER\"] == \"requester\" )\nclient","key":"A2TT8QxaAM"},{"type":"output","id":"_iO0x5bP7ncsLKeUxtTro","data":[],"key":"j43MNCDZXA"}],"key":"IA2YCai1GI"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"pwd","key":"e3ugvn8ZgJ"},{"type":"output","id":"s4wkzHcEwJE4KS0KRWi7U","data":[],"key":"wwubxt3m3M"}],"key":"JscvkL3Y1L"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"os.chdir(lsatpath)\nlsatfiles = os.listdir(lsatpath)\nlsatfiles = [i for i in lsatfiles if i[0]=='L']\n\n# Remove all files from the list with repeats and Landsat mean = nan\nremove = [\n'LC08_L1GT_029109_20160922_20200906_02_T2', \n'LC08_L1GT_022110_20181029_20201016_02_T2', \n'LC08_L1GT_005110_20181209_20201016_02_T2',\n'LC08_L1GT_228108_20200123_20201016_02_T2',\n'LC08_L1GT_001108_20200929_20201006_02_T2',\n'LC08_L1GT_002109_20201022_20201105_02_T2',\n'LC08_L1GT_233108_20201109_20210317_02_T2',\n'LC08_L1GT_233109_20201109_20210317_02_T2',\n'LC08_L1GT_001109_20201202_20210312_02_T2',\n'LC08_L1GT_027112_20220128_20220204_02_T2',\n'LC08_L1GT_002109_20210331_20210408_02_T2'\n]\n\nlsatfiles = [i for i in lsatfiles if i[:-15] not in remove]\nif len(lsatfiles)!=12:\n    print('Wrong number of Landsat scenes!!!')","key":"wGY0rN5h8l"},{"type":"output","id":"PfszrTNRvm-PKZpCraA7f","data":[],"key":"oFt3lT6O0a"}],"key":"sfa7X3T2ai"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Number of columns/rows for subplots\nn_cols = 3\nn_rows = 4\n\n# Create one figure and a 4x7 grid of subplots\n# The figsize is 10 across; adjust height as needed for clarity\nfig, axes = plt.subplots(\n    nrows=n_rows,\n    ncols=n_cols,\n    figsize=(11, 8.5),   \n    subplot_kw={'projection': ccrs.PlateCarree()}\n)\n\n# Optional: if you want them *really* close, you can fine-tune spacing:\nplt.subplots_adjust(wspace=0.05, hspace=0.03)\n# plt.subplots_adjust(bottom=0.15)\n\n# Counter for subplot index, and a handle to store the last \"imshow\" (for colorbar)\ni = 0\nim_obj = None\n\nfor lsatfile in lsatfiles:\n    lsID = lsatfile\n    print(lsID)\n    \n    mrow = valids[valids['L8_filename'].str.contains(lsatfile[:-15])]\n    \n    for idx, row in mrow.iterrows():\n        # Check if L8_SST is NaN\n        if pd.isnull(row['L8_SST']):\n            # If it is NaN, skip this iteration and do not plot\n            continue\n        \n        # --- Prepare data and coordinates ---\n        ilat = row['A_lat']\n        ilon = row['A_lon']\n        \n        lat_add = km_to_decimal_degrees(dist, ilat, direction='latitude')\n        lon_add = km_to_decimal_degrees(dist, ilat, direction='longitude')\n        xmin, ymin, xmax, ymax = (ilon - lon_add, ilat - lat_add, \n                                  ilon + lon_add, ilat + lat_add)\n        \n        # Load the Landsat file\n        ds = xr.open_dataset(lsatfile, chunks=dict(x=512, y=512), engine='rasterio')\n        ls_scene = ds['band_data'].sel(band=1).rio.write_crs(\"epsg:3031\", inplace=True)\n        \n        # Assign time coordinate\n        times = pd.to_datetime(lsatfile[17:25] + lsatfile[41:47], format='%Y%m%d%H%M%S')\n        ls_scene = ls_scene.assign_coords(time=times, ID=lsatfile[:-8])\n        \n        # Reproject to EPSG:4326\n        ls_scene = ls_scene.rio.reproject(\"EPSG:4326\")\n\n        # Calibrate using MODIS\n        ls_scene = ls_scene * calib_m + calib_b\n\n        # Remove all pixels that are too cold\n        ls_scene = ls_scene.where(ls_scene>=lthresh,np.nan)\n        \n        # Select the subplot axis\n        ax = axes[i // n_cols, i % n_cols]\n        \n        # Plot on that axis, without a colorbar\n        # Store the \"imshow\" result in im_obj so we can build one colorbar later\n        im_obj = ls_scene.plot.imshow(\n            x='x', y='y',\n            vmin=-2.0, vmax=1.5,\n            ax=ax,\n            transform=ccrs.PlateCarree(),\n            origin='upper',\n            add_colorbar=False  # <- No individual colorbar\n        )\n        \n        # Remove titles completely (xarray may add one by default)\n        ax.set_title('')\n        \n        # Set extent\n        ax.set_extent([ilon - 0.4, ilon + 0.4, ilat - 0.2, ilat + 0.2], crs=ccrs.PlateCarree())\n        \n        # Argo observation\n        ax.scatter([ilon], [ilat], c='r', s=3, transform=ccrs.PlateCarree(), label='Argo location')\n        \n        # Draw bounding box\n        polygon_show = Pgon([(xmin, ymin), (xmin, ymax), \n                             (xmax, ymax), (xmax, ymin)],\n                            closed=True, edgecolor='red', facecolor='none')\n        ax.add_patch(polygon_show)\n        \n        # Text label\n        text_str = (\n            f\"Argo ID: {row['Argo_id']}\\n\"\n            f\"Argo Temp: {np.around(row['Argo_SST'], 2)}\\n\"\n            f\"Landsat SST: {np.around(row['L8_SST'], 2)}\"\n        )\n        ax.text(\n            0.02, 0.95,\n            text_str,\n            transform=ax.transAxes,\n            fontsize=10,\n            va='top',\n            ha='left'\n        )\n\n        gc.collect()\n        \n        # Move to next subplot index\n        i += 1\n        \n\n# --- Add a single colorbar for the entire figure ---\n# We use the last \"imshow\" (im_obj) and attach to all subplot axes\ncbar_ax = fig.add_axes([0.25, 0.05, 0.5, 0.03])\n\ncbar = fig.colorbar(\n    im_obj, \n    ax=axes.ravel().tolist(),  # or just ax=axes if axes is 2D\n    cax=cbar_ax,\n    orientation='horizontal',  # 'vertical' or 'horizontal'\n    fraction=0.025,            # how long the colorbar is relative to axes\n    pad=0.05                   # space between colorbar and subplots\n)\ncbar.set_label(\"Temperature [°C]\", fontsize=12)\n\n# plt.tight_layout()\nplt.show() ","key":"yeHtKJNpzs"},{"type":"output","id":"ku8pe5w_xetagpENMlY18","data":[],"key":"WlWCL06WFj"}],"key":"E6z9esfaPX"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Use matchups to compare modeled and observed data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HNrudMyBl9"}],"identifier":"use-matchups-to-compare-modeled-and-observed-data","label":"Use matchups to compare modeled and observed data","html_id":"use-matchups-to-compare-modeled-and-observed-data","implicit":true,"key":"jV13xD0IxV"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Here, we are going to use a linear regression","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"yTt8xOVvLB"}],"key":"dhGzkNSnrb"}],"key":"mCuW0kUEO1"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Remove low quality validation data from the valids data\nrm_ids = [1460597, 1614080, 2143782, 2016236, 1790883]\nrm = validmn[validmn.index.isin(rm_ids)]\nvalidmn = validmn.drop(index=rm_ids, errors='ignore')\nvalids = valids[~valids['Argo_id'].isin(rm_ids)]","key":"F2p7yz1jEc"},{"type":"output","id":"1xThX1EorWRAEfLk6xvNh","data":[],"key":"AQkk7AUGB8"}],"key":"C2cuojkJVx"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Orthoganal Regression \ndata = validmn\n\n# Original data\nx_original = np.array(data['Argo_SST'])\ny_original = np.array(data['L8_SST'])\n\n# Define a linear function for the model\ndef linear_model(p, x):\n    return p[0] * x + p[1]\n\n# Create a Model\nlinear = Model(linear_model)\n\n# Create a RealData object using your DataFrame\ndata = RealData(x_original, y_original)\n\n# Set up ODR with the model and data\nodr = ODR(data, linear, beta0=[1., 0.])\n\n# Run the regression\nout = odr.run()\n\n# Use the output\nbeta = out.beta\nbeta_err = out.sd_beta\n\n# Print the summary\nout.pprint()\n\n# Predicting values using the ODR model\ny_pred = linear_model(beta, x_original)\n\n# Get R2\n# Calculate Total Sum of Squares (SST)\ny_mean = np.mean(y_original)\nSST = np.sum((y_original - y_mean)**2)\n\n# Calculate Residual Sum of Squares (SSR)\nSSR = np.sum((y_original - y_pred)**2)\n\n# Compute RMSE\nrmse = np.sqrt(((y_original - y_pred) ** 2).mean())\n\n# Calculate R^2\nR2 = 1 - (SSR / SST)\nprint(\"R^2:\", np.around(R2,2))\nprint(f\"RMSE: {np.around(rmse,2)}\")","key":"Y1dgcLcnjL"},{"type":"output","id":"wS6ReEWZK24n3KLIXI6Nn","data":[],"key":"vO0Dn5pTv3"}],"key":"m5JnZ24q5T"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"beta_mdn = [beta[0]-beta_err[0]*1.96,beta[1]-beta_err[1]*1.96]\nbeta_mup = [beta[0]+beta_err[0]*1.96,beta[1]-beta_err[1]*1.96]\nbeta_bdn = [beta[0]-beta_err[0]*1.96,beta[1]+beta_err[1]*1.96]\nbeta_bup = [beta[0]+beta_err[0]*1.96,beta[1]+beta_err[1]*1.96]\nprint(f'At 95% confidence interval: {np.around(beta[0],2)}+/-{np.around(beta_err[0]*1.96,2)}, {np.around(beta[1],2)}+/-{np.around(beta_err[1]*1.96,2)}, n={y_pred.shape[0]}')\nxfill = np.array([-4.3,0.9])\n\n\n# Plot data points and 1:1 line\nfig, ax = plt.subplots(figsize=(5, 4))\nax.tick_params(labelsize=14)\n\nxi = np.arange(-7.0,5.0,1.0)\n\n# lower_err = abs(data['L8_SST'] - data['L8_SST_min'])  # distance to lower bound\n# upper_err = abs(data['L8_SST_max'] - data['L8_SST'])  # distance to upper bound\n\nax.scatter(x_original,y_original,color='k',linewidth=0,s=35,label='High quality')\nax.errorbar(x_original,y_original,yerr=validmn['std'],color='k',fmt='o',ecolor='k',elinewidth=1,capthick=1,marker='o',ms=3,capsize=5,label='_no legend_')\n# ax.errorbar(data['Argo_SST'],data['L8_SST'],yerr=[lower_err,upper_err],color='k',fmt='o',ecolor='k',elinewidth=1,capthick=1,marker='o',ms=3,capsize=5,label='_no legend_')\n# ax.scatter(data['Argo_SST'],data['center'],color='r',linewidth=0,s=25,label='_no label_')\nax.scatter(rm['Argo_SST'],rm['L8_SST'],color='0.7', s=35, label='Removed',zorder=2)\nax.plot(xi,xi,color='k',linewidth=2, label='1:1')\nax.plot(x_original, y_pred, color='k', ls=':', label='Validation ODR')\nax.fill_between(xfill, linear_model(beta_bdn, xfill), linear_model(beta_mup, xfill),alpha=0.1, facecolor='0.3')\n# a1.plot(xi,xi*lreg.coef_[0]+lreg.intercept_[0],color='r',linewidth=2,label='RANSAC regression')\n# a1.scatter(xC,yLC,color='r',linewidth=0,s=35,label='_no label_')\n# a1.plot(xi,xi*resultC.params.L8_SST+resultC.params.Intercept,color='k',linewidth=2,label='OLS regression')\n# a1.text(-2.1,-2.85,f'y={np.around(resultC.params.L8_SST,2)}x+{np.around(resultC.params.Intercept,2)}   p={p_val}',fontsize=12)\nax.text(-1.1,-1.5,f'y={np.around(beta[0],2)}x+{np.around(beta[1],2)}   $r^2$={np.around(R2,2)}',fontsize=14)\nax.spines['top'].set_visible(False)\nax.spines['right'].set_visible(False)\nax.set_ylim([-1.95,1.5])\nax.set_xlim([-1.95,1.5])\nax.set_xlabel('Argo Temperature [°C]',fontsize=16)\nax.set_ylabel('Landsat SST [°C]',fontsize=16)\nax.legend(markerscale=1,fontsize=12,loc='upper left')\n\nplt.tight_layout()\n# plt.savefig('/Users/tsnow03/GoogleDrive/User/Docs/PhD_Project/Manuscripts/AmundsenCC_Manuscript/Figures/LMCalibration.jpg', format='jpg', dpi=1000)\nplt.show()","visibility":"show","key":"eeSLQUk8Rc"},{"type":"output","id":"p807HZlfglkjW3-hU4oXE","data":[],"visibility":"show","key":"RNmQwzLrkE"}],"visibility":"show","key":"E37NgdXJ9t"}],"key":"wVQMnZbnj2"},"references":{"cite":{"order":["https://doi.org/10.17882/42182","https://doi.org/10.25921/q97e-d719","https://doi.org/10.5281/zenodo.7589540"],"data":{"https://doi.org/10.17882/42182":{"label":"https://doi.org/10.17882/42182","enumerator":"1","doi":"10.17882/42182","html":"Argo. (2025). <i>Argo float data and metadata from Global Data Assembly Centre (Argo GDAC)</i>. SEANOE. <a target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.17882/42182\">10.17882/42182</a>","url":"https://doi.org/10.17882/42182"},"https://doi.org/10.25921/q97e-d719":{"label":"https://doi.org/10.25921/q97e-d719","enumerator":"2","doi":"10.25921/Q97E-D719","html":"International Argo Program. (2003). <i>Temperature, salinity, pressure, and biogeochemical profile data from globally distributed Argo profiling floats, by month since April 2003 for the Global Argo Data Repository, containing data from 1995-09-07 to present</i>. NOAA National Centers for Environmental Information. <a target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.25921/Q97E-D719\">10.25921/Q97E-D719</a>","url":"https://doi.org/10.25921/Q97E-D719"},"https://doi.org/10.5281/zenodo.7589540":{"label":"https://doi.org/10.5281/zenodo.7589540","enumerator":"3","doi":"10.5281/ZENODO.7589540","html":"GHRSST Project Office, Beggs, H., Karagali, I., & Castro, S. (2023). <i>Sea surface temperature: An introduction to users on the set of GHRSST formatted products</i>. <a target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.5281/ZENODO.7589540\">10.5281/ZENODO.7589540</a>","url":"https://doi.org/10.5281/ZENODO.7589540"}}}},"footer":{"navigation":{"prev":{"title":"Calibrate a physical model","url":"/notebooks/calibration-note","group":"Preamble"}}},"domain":"http://localhost:3000"}